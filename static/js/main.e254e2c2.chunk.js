(this.webpackJsonpaoc20=this.webpackJsonpaoc20||[]).push([[0],{29:function(t,n,e){},30:function(t,n,e){},31:function(t,n,e){},32:function(t,n,e){},34:function(t,n,e){},35:function(t,n,e){},36:function(t,n,e){},37:function(t,n,e){},46:function(t,n,e){"use strict";e.r(n);var i=e(4),r=e(5),a=e.n(r),s=e(20),c=e.n(s),o=(e(29),e(23)),u=(e(30),e(21)),h=e(6),l=e(0),f=e(1),p=e(3),v=e(2),d=(e(31),e(32),function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"render",value:function(){var t=this.props.day;return Object(i.jsxs)("header",{className:"App-header",children:[t&&t>1&&Object(i.jsx)("input",{className:"prev",type:"button",value:"< Previous",onClick:function(n){n.stopPropagation(),window.location.href="".concat("/aoc20","/#/").concat(t-1)}}),t&&t<25&&Object(i.jsx)("input",{className:"next",type:"button",value:"Next >",onClick:function(n){n.stopPropagation(),window.location.href="".concat("/aoc20","/#/").concat(t+1)}}),Object(i.jsx)("div",{onClick:function(){window.location.href="".concat("/aoc20","/")},children:Object(i.jsx)("h1",{children:t?"Advent of Code 2020 - Day ".concat(t):"Advent of Code 2020"})})]})}}]),e}(a.a.Component)),b=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"render",value:function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(d,{}),Object(i.jsx)("div",{className:"App-grid",children:Array.apply(null,{length:25}).map((function(t,n){return Object(i.jsx)("div",{onClick:function(t){return window.location.href="".concat("/aoc20","/#/").concat(n+1)},children:n+1},n)}))})]})}}]),e}(a.a.Component),j=e(12),m=e.n(j),g=e(14),O=(e(34),e(35),function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"render",value:function(){return Object(i.jsxs)("div",{className:"input",children:["Input:",Object(i.jsx)("textarea",{placeholder:"<No input yet>",value:this.props.value,onChange:this.props.onChange}),"Number of lines: ",this.props.value?this.props.value.split("\n").length:0]})}}]),e}(a.a.Component)),y=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(t){var i;return Object(l.a)(this,e),(i=n.call(this,t)).state={input:null},i}return Object(f.a)(e,[{key:"loadInput",value:function(){var t=Object(g.a)(m.a.mark((function t(n){var e,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=14;break}return t.prev=1,t.next=4,fetch("".concat(this.props.match.params.day,".txt"));case 4:if(!(e=t.sent).ok){t.next=10;break}return t.next=8,e.text();case 8:(i=t.sent).startsWith("<!DOCTYPE html>")||this.setState({input:i.replace(/\r/gm,""),day:this.props.match.params.day});case 10:t.next=14;break;case 12:t.prev=12,t.t0=t.catch(1);case 14:case"end":return t.stop()}}),t,this,[[1,12]])})));return function(n){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadInput(this.props.match.params.day)}},{key:"componentDidUpdate",value:function(t){null===this.state.input&&this.loadInput(this.props.match.params.day)}},{key:"render",value:function(){var t=this,n=parseInt(this.props.match.params.day),e=this.state.input;if(n<1||n>25)return Object(i.jsxs)("div",{children:[Object(i.jsx)(d,{}),Object(i.jsx)("h1",{children:"404 - No such day in Advent of Code!"})]});var r=this.props.solvers[n-1];return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(d,{day:n}),Object(i.jsx)("div",{className:"solution",children:Object(i.jsxs)("div",{className:"data",children:[Object(i.jsx)(O,{value:e||"",onChange:function(n){return t.setState({input:n.target.value})}}),r?Object(i.jsx)(r.a,{header:r.b.prototype.solve?"Part 1:":"Solution:",input:e}):Object(i.jsx)("div",{className:"part1",children:"part1"}),r&&r.b.prototype.solve&&Object(i.jsx)(r.b,{header:"Part 2:",input:e})]})})]})}}],[{key:"getDerivedStateFromProps",value:function(t,n){return n.day!==t.match.params.day?{input:null,day:t.match.params.day}:null}}]),e}(a.a.Component),k=(e(36),function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){var t;Object(l.a)(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(t=n.call.apply(n,[this].concat(a))).state={},t.show=!0,t.runcontrols=!1,t.running=!1,t.solution=function(n){if(!t.state.solution)return!1;var e=0;return t.state.solution.toString().split("\n").map((function(t){return Object(i.jsx)("p",{children:t},e++)}))},t}return Object(f.a)(e,[{key:"asyncSolve",value:function(){var t=Object(g.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{this.solve(n)}catch(e){console.log(e),this.setState({error:e})}case 1:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){null!==this.props.input&&this.run(!1)}},{key:"componentDidUpdate",value:function(t){this.props.input!==t.input&&null!==this.props.input&&this.run(!1)}},{key:"run",value:function(t){try{if(this.runControls&&(this.running=t,!this.running))return;if(null===this.props.input)return;this.setState({error:null}),this.asyncSolve(this.props.input)}catch(n){console.log(n),this.setState({error:n})}}},{key:"render",value:function(){var t=this;try{return Object(i.jsxs)("div",{className:"solver",children:[Object(i.jsxs)("div",{className:"control",children:[this.props.header,this.runControls&&Object(i.jsx)("input",{type:"button",value:"Solve",onClick:function(n){return t.run(!0)}})]}),Object(i.jsx)("div",{className:"result",children:this.customRender?this.customRender():this.state.error?Object(i.jsxs)("div",{children:["Error: ",this.state.error.toString()]}):Object(i.jsx)(this.solution,{})})]})}catch(n){return Object(i.jsxs)("div",{children:["Error: ",n.toString()]})}}}]),e}(a.a.Component)),x=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){for(var n=t.split("\n").map((function(t){return parseInt(t,10)})),e=0;e<n.length;e++)for(var i=e+1;i<n.length;i++)if(n[e]+n[i]===2020)return void this.setState({solution:"".concat(n[e]," \xd7 ").concat(n[i]," = ").concat(n[e]*n[i])});this.setState({solution:"Entries: ".concat(n.length,"\nNo solution found")})}}]),e}(k),w=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){for(var n=t.split("\n").map((function(t){return parseInt(t,10)})),e=0;e<n.length;e++)for(var i=e+1;i<n.length;i++)for(var r=i+1;r<n.length;r++)if(n[e]+n[i]+n[r]===2020)return void this.setState({solution:"".concat(n[e]," \xd7 ").concat(n[i]," \xd7 ").concat(n[r]," = ").concat(n[e]*n[i]*n[r])});this.setState({solution:"Entries: ".concat(n.length,"\nNo solution found")})}}]),e}(k),S=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){t=t.split("\n");var n=0,e=0;t.forEach((function(t){var i=t.split(": "),r=i[0];i=i[1];var a=(r=r.split(" "))[1][0];r=r[0].split("-");for(var s=parseInt(r[0],10),c=parseInt(r[1],10),o=0,u=0;u<i.length;u++)i[u]===a&&o++;s<=o&&o<=c&&n++,i[s-1]!==a&&i[c-1]!==a||i[s-1]===i[c-1]||e++})),this.setState({solution:"Passwords: ".concat(t.length,"\nValid passwords(1): ").concat(n,"\nValid passwords(2): ").concat(e)})}}]),e}(k),I=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),M=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){t=t.split("\n");for(var n=[{x:1,y:1},{x:3,y:1},{x:5,y:1},{x:7,y:1},{x:1,y:2}],e=[0,0,0,0,0],i=0;i<n.length;i++)for(var r={x:0,y:0};r.y<t.length;)"#"===t[r.y][r.x%t[r.y].length]&&e[i]++,r.x+=n[i].x,r.y+=n[i].y;this.setState({solution:"Lines: ".concat(t.length,"\n# trees(1): ").concat(e[0],"\n# trees(2): ").concat(e[1],"\n# trees(3): ").concat(e[2],"\n# trees(4): ").concat(e[3],"\n# trees(5): ").concat(e[4],"\nProduct: ").concat(e.reduce((function(t,n){return t*n}),1))})}}]),e}(k),E=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),N=function(){function t(n){var e=this;Object(l.a)(this,t),n.split(/[ \n]/).sort().forEach((function(t){t.startsWith("byr:")&&(e.byr=parseInt(t.substring(4),10)),t.startsWith("iyr:")&&(e.iyr=parseInt(t.substring(4),10)),t.startsWith("eyr:")&&(e.eyr=parseInt(t.substring(4),10)),t.startsWith("hgt:")&&(e.hgt={l:parseInt(t.substring(4),10),u:t.substring(4).split(/\d+/)[1]}),t.startsWith("hcl:")&&(e.hcl=t.substring(4)),t.startsWith("ecl:")&&(e.ecl=t.substring(4)),t.startsWith("pid:")&&(e.pid=t.substring(4))}))}return Object(f.a)(t,[{key:"complete",value:function(){return void 0!==this.byr&&void 0!==this.iyr&&void 0!==this.eyr&&void 0!==this.hgt&&void 0!==this.hcl&&void 0!==this.ecl&&void 0!==this.pid}},{key:"valid",value:function(t){return this.byr<1920||this.byr>2002?(t&&console.log("Incorrect birth year"),!1):this.iyr<2010||this.iyr>2020?(t&&console.log("Incorrect issue year"),!1):this.eyr<2020||this.eyr>2030?(t&&console.log("Incorrect expiration year"),!1):"cm"!==this.hgt.u&&"in"!==this.hgt.u?(t&&console.log("Invalid height unit"),!1):"cm"===this.hgt.u&&(this.hgt.l<150||this.hgt.l>193)||"in"===this.hgt.u&&(this.hgt.l<59||this.hgt.l>76)?(t&&console.log("Invalid length"),!1):/^#[0-9a-f]{6}$/.test(this.hcl)?/^(amb|blu|brn|gry|grn|hzl|oth)$/.test(this.ecl)?!!/^\d{9}$/.test(this.pid)||(t&&console.log("Invalid passport ID"),!1):(t&&console.log("Invalid eye color"),!1):(t&&console.log("Invalid hair color"),!1)}}]),t}(),A=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){t=t.split("\n\n").map((function(t){return new N(t)})).filter((function(t){return t.complete()})),this.setState({solution:"Passports: ".concat(t.length,"\nValid(1): ").concat(t.length,"\nValid(2): ").concat(t.filter((function(t){return t.valid()})).length)})}}]),e}(k),C=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),W=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){var n=t.replace(/F|L/g,"0").replace(/B|R/g,"1").split("\n").map((function(t){return parseInt(t,2)})).sort((function(t,n){return t-n})),e=n[n.length-1],i=n.find((function(t,n,e){return n<e.length-1&&e[n+1]!==t+1}))+1;this.setState({solution:"Lines: ".concat(t.length,"\nHigh: ").concat(e,"\nMy seat: ").concat(i)})}}]),e}(k),R=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),X=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){var n=t.split("\n\n").map((function(t){var n={},e=t.split("\n").length;return t.replace(/\n/g,"").split("").forEach((function(t){void 0===n[t]?n[t]=1:n[t]++})),n.all=Object.keys(n).filter((function(t){return n[t]===e})).length,n.any=Object.keys(n).length-1,n}));this.setState({solution:"Groups: ".concat(n.length,"\nTotal group answers: ").concat(n.reduce((function(t,n){return t+n.any}),0),"\nAll group count: ").concat(n.reduce((function(t,n){return t+n.all}),0))})}}]),e}(k),L=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),Y=function(){function t(n){Object(l.a)(this,t),this.color=n.match(/^(\w+(?:\s\w+)?)/)[0];var e=n.match(/\d+\s\w+(?:\s\w+)?/g);this.contents=null!==e?e.map((function(t){return/(\d+)\s(\w+(?:\s\w+)?)/.exec(t)})).map((function(t){return{num:parseInt(t[1],10),color:t[2]}})):[]}return Object(f.a)(t,[{key:"expand",value:function(t){for(var n=this.contents.map((function(t){return t})),e=0;e<n.length;){t[n[e++].color].contents.forEach((function(t){0===n.filter((function(n){return n.color===t.color})).length&&n.push(t)}))}this.expandedContents=n}},{key:"count",value:function(t){var n=0;return this.contents.forEach((function(e){n+=e.num*(1+t[e.color].count(t))})),n}}]),t}(),Z=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){var n=(t=t.split("\n")).map((function(t){return new Y(t)})).filter((function(t){return void 0!==t.color})),e={};n.forEach((function(t){e[t.color]=t})),n.forEach((function(t){return t.expand(e)}));var i=n.filter((function(t){return t.expandedContents.filter((function(t){return"shiny gold"===t.color})).length>0})).length,r=e["shiny gold"].count(e);this.setState({solution:"Lines: ".concat(t.length,"\nRules: ").concat(n.length,"\nShiny gold: ").concat(i,"\nShiny gold contents: ").concat(r)})}}]),e}(k),F=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),P=function t(n,e){Object(l.a)(this,t),this.instr=n,this.arg=e},T=function(){function t(n){var e=this;Object(l.a)(this,t),this.acc=function(t){return e.res+=t,1},this.jmp=function(t){return t},this.nop=function(){return 1},this.prg=n,this.res=0,this.ip=0,this.instructions={acc:this.acc,jmp:this.jmp,nop:this.nop}}return Object(f.a)(t,null,[{key:"parse",value:function(t){return t.split("\n").map((function(t){return new P(t.match(/^\w+/).shift(),parseInt(t.match(/[-\d]+$/).shift(),10))}))}}]),Object(f.a)(t,[{key:"run",value:function(t){for(;this.ip<this.prg.length;)t&&console.log("".concat(this.ip,": ").concat(this.prg[this.ip].instr," ").concat(this.prg[this.ip].arg,", Res: ").concat(this.res)),this.ip+=this.instructions[this.prg[this.ip].instr](this.prg[this.ip].arg)}},{key:"debug",value:function(t){for(var n=[];!n.includes(this.ip)&&this.ip<this.prg.length;)n.push(this.ip),t&&console.log("".concat(this.ip,": ").concat(this.prg[this.ip].instr," ").concat(this.prg[this.ip].arg,", Res: ").concat(this.res)),this.ip+=this.instructions[this.prg[this.ip].instr](this.prg[this.ip].arg)}}]),t}(),z=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){t=T.parse(t);var n=new T(t);n.debug();for(var e=n.res,i=0,r=0;r<t.length;r++)if("acc"!==t[r].instr){var a=t.concat([]);if(a.splice(r,1,new P("nop"===t[r].instr?"jmp":"nop",t[r].arg)),(n=new T(a)).debug(),n.ip===a.length){i=n.res;break}}this.setState({solution:"Result: ".concat(e,"\nPatched: ").concat(i)})}}]),e}(k),D=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),B=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"findInvalid",value:function(t){for(var n=25;n<t.length;n++)if(null==this.validate(t,n))return n}},{key:"validate",value:function(t,n){for(var e=Math.max(0,n-25);e<n-1;e++)for(var i=e+1;i<n;i++)if(t[e]+t[i]===t[n])return{x:e,y:i};return null}},{key:"findSum",value:function(t,n){for(var e=0;e<n-1;e++)for(var i=t[e],r=e+1;r<n;r++)if(i+=t[r],t[n]===i){console.log("".concat(e,"-").concat(r));for(var a=t[e],s=t[e],c=e+1;c<r+1;c++)t[c]<a&&(a=t[c]),t[c]>s&&(s=t[c]);return a+s}}},{key:"solve",value:function(t){var n=t.split("\n").map((function(t){return parseInt(t,10)})),e=this.findInvalid(n),i=this.findSum(n,e);this.setState({solution:"First invalid: ".concat(n[e],"\nSum: ").concat(i)})}}]),e}(k),H=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),V=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"product",value:function(t){for(var n=0,e=0,i=1;i<t.length;i++)t[i]-t[i-1]===1&&n++,t[i]-t[i-1]===3&&e++;return n*e}},{key:"validate",value:function(t){for(var n=1;n<t.length;n++)if(t[n]-t[n-1]>3)return!1;return!0}},{key:"off",value:function(t,n,e){for(var i=0;i<n.length;i++)if(n[i]===t)return 0!==(1<<i&e);return!1}},{key:"remove",value:function(t,n,e){var i=this;return t.filter((function(t){return!i.off(t,n,e)}))}},{key:"count",value:function(t,n){for(var e=0,i=0;i<Math.pow(2,n.length);i++)this.validate(this.remove(t,n,i))&&e++;return e}},{key:"combinations",value:function(t){for(var n=this,e=[[]],i=1;i<t.length-1;i++)t[i+1]-t[i-1]<4?e[e.length-1].push(t[i]):e[e.length-1].length>0&&e.push([]);return console.log(this.count(t,[5])),e.filter((function(t){return t.length>0})).map((function(e){return n.count(t,e)})).reduce((function(t,n){return t*n}),1)}},{key:"solve",value:function(t){(t=t.split("\n").map((function(t){return parseInt(t,10)})).sort((function(t,n){return t-n}))).push(t[t.length-1]+3),t.unshift(0),console.log(t),this.setState({solution:"Product: ".concat(this.product(t),"\nCombinations: ").concat(this.combinations(t))})}}]),e}(k),$=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),U=function(){function t(n){Object(l.a)(this,t),this.data=n.split("\n").map((function(t){return t.split("")})),this.height=this.data.length,this.width=this.data[0].length,this.steps=0}return Object(f.a)(t,[{key:"tick",value:function(t){for(var n=1===t?3:4,e=this.data,i=e.map((function(t){return t.map((function(t){return[]}))})),r=!1,a=0;a<i.length;a++)for(var s=0;s<i[a].length;s++){"."===e[a][s]&&(i[a][s]=".");var c=this.count(a,s,"#",2===t);"L"===e[a][s]&&(0===c?(i[a][s]="#",r=!0):i[a][s]="L"),"#"===e[a][s]&&(c>n?(i[a][s]="L",r=!0):i[a][s]="#")}return this.steps++,this.data=i,r}},{key:"count",value:function(t,n,e,i){var r=0;return this.find(t,n,-1,-1,i)===e&&r++,this.find(t,n,-1,0,i)===e&&r++,this.find(t,n,-1,1,i)===e&&r++,this.find(t,n,0,-1,i)===e&&r++,this.find(t,n,0,1,i)===e&&r++,this.find(t,n,1,-1,i)===e&&r++,this.find(t,n,1,0,i)===e&&r++,this.find(t,n,1,1,i)===e&&r++,r}},{key:"find",value:function(t,n,e,i,r){for(var a=this.data.length,s=this.data[0].length;n+=i,(t+=e)>=0&&n>=0&&t<a&&n<s;)if(!r||"."!==this.data[t][n])return this.data[t][n]}},{key:"countOccupied",value:function(){return this.data.map((function(t){return t.filter((function(t){return"#"===t})).join("")})).join("").length}},{key:"output",value:function(){return this.data.map((function(t){return t.join("")})).join("\n")}}]),t}(),J=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){for(var n=new U(t),e=new U(t);n.tick(1););for(;e.tick(2););this.setState({map:n,map2:e})}},{key:"customRender",value:function(){var t=this.state,n=t.map,e=t.map2;return Object(i.jsxs)("div",{children:[n&&Object(i.jsx)("p",{children:"Map size: ".concat(n.data[0].length,"\xd7").concat(n.data.length)}),n&&Object(i.jsx)("p",{children:"Map 1 steps: ".concat(n.steps,", Seats occupied: ").concat(n.countOccupied())}),e&&Object(i.jsx)("p",{children:"Map 2 steps: ".concat(e.steps,", Seats occupied: ").concat(e.countOccupied())}),e&&Object(i.jsx)("p",{style:{fontFamily:"monospace"},children:e.output()})]})}}]),e}(k),q=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),G=["E","S","W","N"],K=function(){function t(){Object(l.a)(this,t),this.x=10,this.y=-1}return Object(f.a)(t,[{key:"left",value:function(t){if(0!==t){var n=this.y,e=-this.x;this.x=n,this.y=e,this.left(t-1)}}},{key:"right",value:function(t){if(0!==t){var n=-this.y,e=this.x;this.x=n,this.y=e,this.right(t-1)}}},{key:"move",value:function(t){var n=t.cmd,e=t.val;"N"===n&&(this.y-=e),"S"===n&&(this.y+=e),"E"===n&&(this.x+=e),"W"===n&&(this.x-=e),"L"===n&&this.left(e/90),"R"===n&&this.right(e/90)}}]),t}(),Q=function(){function t(){Object(l.a)(this,t),this.heading=0,this.x=0,this.y=0,this.w=new K}return Object(f.a)(t,[{key:"move",value:function(t){var n=t.cmd,e=t.val;"N"===n&&(this.y-=e),"S"===n&&(this.y+=e),"E"===n&&(this.x+=e),"W"===n&&(this.x-=e),"F"===n&&this.move({cmd:G[this.heading],val:e}),"L"===n&&(this.heading=(this.heading+G.length-e/90)%G.length),"R"===n&&(this.heading=(this.heading+e/90)%G.length)}},{key:"waypoint",value:function(t){var n=t.cmd,e=t.val;"F"===n?(this.x+=e*this.w.x,this.y+=e*this.w.y):this.w.move({cmd:n,val:e})}},{key:"distance",value:function(){return Math.abs(this.x)+Math.abs(this.y)}}]),t}(),_=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){t=t.split("\n").map((function(t){return t.match(/^(\w)(\d+)/)})).map((function(t){return{cmd:t[1],val:parseInt(t[2],10)}}));var n=new Q,e=new Q;t.forEach((function(t){n.move(t),e.waypoint(t)})),this.setState({solution:"Distance moved (1): ".concat(n.distance(),"\nDistance moved (2): ").concat(e.distance())})}}]),e}(k),tt=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),nt=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"passConstraints",value:function(t,n){for(var e=0,i=0;i<n.length;i++){var r=n[i].id,a=(r-(t+n[i].offset)%r)%r;a>e&&(e=a)}return e}},{key:"find2",value:function(t,n,e){if(0===n.length)return t;for(var i=n.shift();(t+i.offset)%i.id>0;)t+=e;for(var r=1;r<i.id&&e*r%i.id>0;)r++;return this.find2(t,n,e*r)}},{key:"find",value:function(t){var n=t.shift(),e=n.id-n.offset;return this.find2(e,t,n.id)}},{key:"solve",value:function(t){t=t.split("\n");for(var n=parseInt(t[0],10),e=t[1].split(","),i=e.filter((function(t){return"x"!==t})).map((function(t){return parseInt(t,10)})).map((function(t){for(var e=t*Math.floor(n/t);e<n;)e+=t;return{id:t,earliest:e}})).sort((function(t,n){return t.earliest-n.earliest})),r=i[0].id*(i[0].earliest-n),a=[],s=0;s<e.length;s++)"x"!==e[s]&&a.push({id:parseInt(e[s],10),offset:s});a=a.sort((function(t,n){return n.id-t.id}));var c=this.find(a);this.setState({earliest:r,solution:"Answer: ".concat(r," \nPerfect time: ").concat(c)})}}]),e}(k),et=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),it=function(){function t(n){Object(l.a)(this,t),this.high=parseInt(n.substring(0,20),2),this.low=parseInt(n.substring(20),2)}return Object(f.a)(t,[{key:"pad",value:function(t,n){for(;t.length<n;)t="0"+t;return t}},{key:"applyOR",value:function(t,n){var e=Math.pow(2,16)*(Math.floor(t/Math.pow(2,16))|this.high)+(65535&t|this.low);return n&&(console.log("OR: ".concat(t," | (").concat(this.high," + ").concat(this.low,")")),console.log("".concat(this.pad(this.high.toString(2),20)," + ").concat(this.pad(this.low.toString(2),16))),console.log("".concat(this.pad(Math.floor(t/Math.pow(2,16)).toString(2),20)," + ").concat(this.pad((65535&t).toString(2),16))),console.log("".concat(this.pad(Math.floor(e/Math.pow(2,16)).toString(2),20)," + ").concat(this.pad((65535&e).toString(2),16)))),e}},{key:"applyAND",value:function(t,n){var e=Math.pow(2,16)*(Math.floor(t/Math.pow(2,16))&this.high)+(65535&t&this.low);return n&&(console.log("AND: ".concat(t," & (").concat(this.high," + ").concat(this.low,")")),console.log("".concat(this.pad(this.high.toString(2),20)," + ").concat(this.pad(this.low.toString(2),16))),console.log("".concat(this.pad(Math.floor(t/Math.pow(2,16)).toString(2),20)," + ").concat(this.pad((65535&t).toString(2),16))),console.log("".concat(this.pad(Math.floor(e/Math.pow(2,16)).toString(2),20)," + ").concat(this.pad((65535&e).toString(2),16)))),e}}]),t}(),rt=function(){function t(){Object(l.a)(this,t),this.data=[]}return Object(f.a)(t,[{key:"setMask",value:function(t){t=t.match(/^mask = (.*)/)[1],this.orMask=new it(t.replace(/X/g,"0")),this.andMask=new it(t.replace(/X/g,"1"))}},{key:"writeMem",value:function(t){t=t.match(/^mem\[(\d+)] = (\d+)/);var n=parseInt(t[1],10),e=this.andMask.applyAND(this.orMask.applyOR(parseInt(t[2],10)));this.data[n]=e}},{key:"parse",value:function(t){t.startsWith("mask")?this.setMask(t):this.writeMem(t)}},{key:"sum",value:function(){return this.data.reduce((function(t,n){return t+n}),0)}}]),t}(),at=function(){function t(){Object(l.a)(this,t),this.data={}}return Object(f.a)(t,[{key:"setMask",value:function(t){this.mask=t.match(/^mask = (.*)/)[1],this.orMask=new it(this.mask.replace(/X/g,"0"))}},{key:"generateAddresses",value:function(t){var n=this.mask.split("");t=new it(n.map((function(t){return"X"===t?"0":"1"})).join("")).applyAND(this.orMask.applyOR(t));for(var e=[],i=0;i<n.length;i++)"X"===n[n.length-1-i]&&e.push(i);for(var r=[t],a=1;a<Math.pow(2,e.length);a++){for(var s=0,c=0;c<e.length;c++)s+=(a>>>c&1)*Math.pow(2,e[c]);r.push(t+s)}return r}},{key:"writeMem",value:function(t){var n=this;t=t.match(/^mem\[(\d+)] = (\d+)/);var e=this.generateAddresses(parseInt(t[1],10)),i=parseInt(t[2],10);e.forEach((function(t){return n.data[t]=i}))}},{key:"parse",value:function(t){t.startsWith("mask")?this.setMask(t):this.writeMem(t)}},{key:"sum",value:function(){var t=this;return Object.keys(this.data).map((function(n){return t.data[n]})).reduce((function(t,n){return t+n}),0)}}]),t}(),st=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){t=t.split("\n");var n=new rt,e=new at;t.forEach((function(t){n.parse(t),e.parse(t)})),this.setState({solution:"Sum(1): ".concat(n.sum(),"\nSum(2): ").concat(e.sum())})}}]),e}(k),ct=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),ot=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"newNum",value:function(){if(void 0===this.numbers[this.lastNum])this.numbers[this.lastNum]=this.count++,this.lastNum=0;else{var t=this.count-this.numbers[this.lastNum];this.numbers[this.lastNum]=this.count++,this.lastNum=t}}},{key:"solve",value:function(t){this.numbers=[];var n=t.split(",").map((function(t){return parseInt(t,10)}));this.count=1;for(var e=0;e<n.length-1;e++)this.numbers[n[e]]=this.count++;for(this.lastNum=n[n.length-1];this.count<2020;)this.newNum();for(var i=this.lastNum;this.count<3e7;)this.newNum();this.setState({solution:"Element #2020: ".concat(i,"\nElement #30000000: ").concat(this.lastNum)})}}]),e}(k),ut=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),ht=function(){function t(n){Object(l.a)(this,t),this.name=n.match(/^([\w\s]+):/)[1],this.ranges=[],this.ranges=n.match(/([-\d]+)/g).map((function(t){return t.split("-")}))}return Object(f.a)(t,[{key:"valid",value:function(t){for(var n=0;n<this.ranges.length;n++)if(t>=this.ranges[n][0]&&t<=this.ranges[n][1])return!0}}]),t}(),lt=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){var n=(t=t.split("\n\n"))[0].split("\n").map((function(t){return new ht(t)})),e=t[1].match(/(\d+)/g).map((function(t){return parseInt(t,10)})).map((function(t){return{fields:n.concat([]),val:t}})),i=t[2].match(/([0-9,]+)/g).map((function(t){return t.split(",").map((function(t){return parseInt(t,10)}))})),r=0;i=i.filter((function(t){var e=!0;return t.forEach((function(t){0===n.filter((function(n){return n.valid(t)})).length&&(r+=t,e=!1)})),e}));for(var a=function(t){e[t].fields=e[t].fields.filter((function(n){return 0===i.filter((function(e){return!n.valid(e[t])})).length}))},s=0;s<e.length;s++)a(s);for(var c=function(){var t=e.filter((function(t){return 1===t.fields.length})).map((function(t){return t.fields[0]}));e.forEach((function(n){n.fields.length>1&&(n.fields=n.fields.filter((function(n){return!t.includes(n)})))}))};e.filter((function(t){return t.fields.length>1})).length>0;)c();var o=e.filter((function(t){return t.fields[0].name.startsWith("departure")})).map((function(t){return t.val}));this.setState({solution:"Error rate: ".concat(r,"\nMy ticket values: ").concat(o.reduce((function(t,n){return t*n}),1))})}}]),e}(k),ft=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),pt=function(){function t(){Object(l.a)(this,t),this.data=[[[]]],this.minX=0,this.maxX=1,this.minY=0,this.maxY=1,this.minZ=0,this.maxZ=1,this.directions=[];for(var n=-1;n<=1;n++)for(var e=-1;e<=1;e++)for(var i=-1;i<=1;i++)0===n&&0===e&&0===i||this.directions.push({x:i,y:e,z:n})}return Object(f.a)(t,[{key:"get",value:function(t,n,e){return void 0===this.data[e]&&(this.data[e]=[]),void 0===this.data[e][n]&&(this.data[e][n]=[]),this.data[e][n][t]||!1}},{key:"put",value:function(t,n,e,i){void 0===this.data[e]&&(this.data[e]=[]),void 0===this.data[e][n]&&(this.data[e][n]=[]),this.data[e][n][t]=i}},{key:"cycle",value:function(){var t=this;this.minX--,this.maxX++,this.minY--,this.maxY++,this.minZ--,this.maxZ++;for(var n=[],e=function(e){n[e]=[];for(var i=function(i){n[e][i]=[];for(var r=function(r){var a=t.get(r,i,e),s=t.directions.filter((function(n){return t.get(r+n.x,i+n.y,e+n.z)})).length;n[e][i][r]=3===s||a&&2===s},a=t.minX;a<t.maxX;a++)r(a)},r=t.minY;r<t.maxY;r++)i(r)},i=this.minZ;i<this.maxZ;i++)e(i);this.data=n}},{key:"count",value:function(){for(var t=0,n=this.minZ;n<this.maxZ;n++)for(var e=this.minY;e<this.maxY;e++)for(var i=this.minX;i<this.maxX;i++)this.get(i,e,n)&&t++;return t}},{key:"output",value:function(){for(var t="",n=this.minZ;n<this.maxZ;n++){for(var e=this.minY;e<this.maxY;e++){t+="".concat(e,": ");for(var i=this.minX;i<this.maxX;i++)t+=this.get(i,e,n)?"#":".";t+="\n"}t+="\n\n"}return t}}],[{key:"fromString",value:function(n){var e=new t;return e.data=[n.split("\n").map((function(t){return t.split("").map((function(t){return"#"===t}))}))],e.minX=0,e.maxX=e.data[0][0].length,e.minY=0,e.maxY=e.data[0].length,e.minZ=0,e.maxZ=1,e}}]),t}(),vt=function(){function t(){Object(l.a)(this,t),this.data=[[[]]],this.minX=0,this.maxX=1,this.minY=0,this.maxY=1,this.minZ=0,this.maxZ=1,this.minW=0,this.maxW=1,this.directions=[];for(var n=-1;n<=1;n++)for(var e=-1;e<=1;e++)for(var i=-1;i<=1;i++)for(var r=-1;r<=1;r++)0===n&&0===e&&0===i&&0===r||this.directions.push({x:r,y:i,z:e,w:n})}return Object(f.a)(t,[{key:"get",value:function(t,n,e,i){return void 0===this.data[i]&&(this.data[i]=[]),void 0===this.data[i][e]&&(this.data[i][e]=[]),void 0===this.data[i][e][n]&&(this.data[i][e][n]=[]),this.data[i][e][n][t]||!1}},{key:"put",value:function(t,n,e,i,r){void 0===this.data[i]&&(this.data[i]=[]),void 0===this.data[i][e]&&(this.data[i][e]=[]),void 0===this.data[i][e][n]&&(this.data[i][e][n]=[]),this.data[i][e][n][t]=r}},{key:"cycle",value:function(){var t=this;this.minX--,this.maxX++,this.minY--,this.maxY++,this.minZ--,this.maxZ++,this.minW--,this.maxW++;for(var n=[],e=function(e){n[e]=[];for(var i=function(i){n[e][i]=[];for(var r=function(r){n[e][i][r]=[];for(var a=function(a){var s=t.get(a,r,i,e),c=t.directions.filter((function(n){return t.get(a+n.x,r+n.y,i+n.z,e+n.w)})).length;n[e][i][r][a]=3===c||s&&2===c},s=t.minX;s<t.maxX;s++)a(s)},a=t.minY;a<t.maxY;a++)r(a)},r=t.minZ;r<t.maxZ;r++)i(r)},i=this.minW;i<this.maxW;i++)e(i);this.data=n}},{key:"count",value:function(){for(var t=0,n=this.minW;n<this.maxW;n++)for(var e=this.minZ;e<this.maxZ;e++)for(var i=this.minY;i<this.maxY;i++)for(var r=this.minX;r<this.maxX;r++)this.get(r,i,e,n)&&t++;return t}}],[{key:"fromString",value:function(n){var e=new t;return e.data=[[n.split("\n").map((function(t){return t.split("").map((function(t){return"#"===t}))}))]],e.minX=0,e.maxX=e.data[0][0][0].length,e.minY=0,e.maxY=e.data[0][0].length,e.minZ=0,e.maxZ=1,e.minW=0,e.maxW=1,e}}]),t}(),dt=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){for(var n=pt.fromString(t),e=vt.fromString(t),i=0;i<6;i++)n.cycle(),e.cycle();this.setState({solution:"Active cubes (3D): ".concat(n.count(),"\nActive cubes (4D): ").concat(e.count())})}}]),e}(k),bt=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),jt=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"parse",value:function(t,n){var e=t.match(/^([-\d]+)(.*)/);if(e)return[parseInt(e[1],10)].concat(this.parse(e[2],n));if(e=t.match(/^ ([+*]) (.*)/))return[e[1]].concat(this.parse(e[2],n));if("("===t[0]){for(var i=1,r=0;i>0;)"("===t[++r]&&i++,")"===t[r]&&i--;return[this.eval(t.substring(1,r),n)].concat(this.parse(t.substring(r+1),n))}return[]}},{key:"calc",value:function(t){for(var n=t.shift();t.length>0;)"*"===t[0]&&(n*=t[1]),"+"===t[0]&&(n+=t[1]),t.shift(),t.shift();return n}},{key:"calc2",value:function(t){var n=t.pop();if(0===t.length)return n;for(var e=t.pop();"+"===e;){if(n+=t.pop(),0===t.length)return n;e=t.pop()}return 0===t.length?n:this.calc2(t)*n}},{key:"eval",value:function(t,n){return n(this.parse(t,n))}},{key:"solve",value:function(t){var n=this,e=t.split("\n").map((function(t){return n.eval(t,(function(t){return n.calc(t)}))})).reduce((function(t,n){return t+n}),0),i=t.split("\n").map((function(t){return n.eval(t,(function(t){return n.calc2(t)}))})).reduce((function(t,n){return t+n}),0);this.setState({solution:"Sum(1): ".concat(e,"\nSum(2): ").concat(i)})}}]),e}(k),mt=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),gt=function(){function t(n){Object(l.a)(this,t);var e=n.match(/"(\w)"/);e?this.txt=e[1]:this.rule=n.split(" | ").map((function(t){return t.split(" ").map((function(t){return parseInt(t,10)}))}))}return Object(f.a)(t,[{key:"connect",value:function(t){this.rule&&(this.rule=this.rule.map((function(n){return n.map((function(n){return t[n]}))})))}},{key:"valid",value:function(t,n){if(void 0!==this.txt)return t[n]===this.txt?this.txt.length:0;for(var e=0;e<this.rule.length;e++){for(var i=!0,r=0,a=0;a<this.rule[e].length;a++){var s=this.rule[e][a].valid(t,n+r);0===s?i=!1:r+=s}if(i)return r}return 0}}]),t}(),Ot=function(){function t(n){Object(l.a)(this,t),this.prefix=n[42],this.postfix=n[31]}return Object(f.a)(t,[{key:"valid",value:function(t,n){for(var e=0,i=0,r=0,a=this.prefix.valid(t,n);a>0;)r+=a,e++,a=this.prefix.valid(t,n+r);if(e--<2)return 0;for(;i<e;){if(0===(a=this.postfix.valid(t,n+r)))return i>0?r:0;r+=a,i++}return r}}]),t}(),yt=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){t=t.split("\n\n");var n=[];t[0].split("\n").forEach((function(t){t=t.match(/^(\d+): (.*)/),n[parseInt(t[1],10)]=new gt(t[2])}));var e=t[1].split("\n");n.forEach((function(t){return t.connect(n)}));var i=e.filter((function(t){return n[0].valid(t,0)===t.length})),r=new Ot(n),a=e.filter((function(t){return r.valid(t,0)===t.length}));this.setState({solution:"Input Length: ".concat(t.length,"\nRules: ").concat(n.length,"\nMessages: ").concat(e.length,"\nValid: ").concat(i.length,"\nValid (loop): ").concat(a.length)})}}]),e}(k),kt=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),xt=e(15),wt=(e(37),a.a.Component,function(){function t(n){Object(l.a)(this,t),this.data=n||[]}return Object(f.a)(t,[{key:"get",value:function(t,n){return void 0===this.data[t]&&(this.data[t]=[]),this.data[t][n]}},{key:"put",value:function(t,n,e){void 0===this.data[t]&&(this.data[t]=[]),this.data[t][n]=e}},{key:"clockwise",value:function(){for(var t=this.data.map((function(t){return[]})),n=this.data.length-1;n>=0;n--)for(var e=0;e<this.data[n].length;e++)t[e].push(this.data[n][e]);this.data=t}},{key:"flipLateral",value:function(){this.data=this.data.map((function(t){return t.reverse()}))}},{key:"flipHorizontal",value:function(){this.data.reverse()}}]),t}());function St(t,n,e,i,r){r&&(t.fillStyle=r),t.beginPath(),t.arc(n,e,i,0,2*Math.PI),t.fill()}function It(t,n,e,i,r,a,s){a&&(t.strokeStyle=a),s&&(t.lineWidth=s),t.beginPath(),t.moveTo(n,e),t.lineTo(i,r),t.stroke()}function Mt(t){return[].concat(t).reverse()}var Et=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(t,i){var r;return Object(l.a)(this,e),(r=n.call(this,i)).id=t,r.borders=[],r.calculateBorders(),r}return Object(f.a)(e,[{key:"calculateBorders",value:function(){this.borders[2]=parseInt(this.data[0].join(""),2),this.borders[6]=parseInt(Mt(this.data[0]).join(""),2),this.borders[3]=parseInt(this.data[9].join(""),2),this.borders[7]=parseInt(Mt(this.data[9]).join(""),2);var t=[],n=[];this.data.forEach((function(e){t.push(e[0]),n.push(e[9])})),this.borders[0]=parseInt(t.join(""),2),this.borders[4]=parseInt(Mt(t).join(""),2),this.borders[1]=parseInt(n.join(""),2),this.borders[5]=parseInt(Mt(n).join(""),2)}},{key:"orient",value:function(t){1===t&&this.flipLateral(),2===t&&(this.clockwise(),this.flipLateral()),3===t&&(this.flipLateral(),this.clockwise(),this.flipLateral()),this.calculateBorders()}},{key:"matchLeft",value:function(t){return this.borders[1]===t||(this.borders[5]===t?(this.flipHorizontal(),this.calculateBorders(),!0):this.borders[0]===t?(this.flipLateral(),this.calculateBorders(),!0):this.borders[4]===t?(this.flipHorizontal(),this.flipLateral(),this.calculateBorders(),!0):this.borders[2]===t?(this.clockwise(),this.calculateBorders(),!0):this.borders[6]===t?(this.clockwise(),this.flipHorizontal(),this.calculateBorders(),!0):this.borders[3]===t?(this.clockwise(),this.flipLateral(),this.calculateBorders(),!0):this.borders[7]===t&&(this.clockwise(),this.flipHorizontal(),this.flipLateral(),this.calculateBorders(),!0))}},{key:"match",value:function(t,n){return!!this.matchLeft(t)&&(this.orient(n),!0)}}],[{key:"fromText",value:function(t){return t=t.split("\n"),new e(parseInt(t.shift().match(/^Tile (\d+):/)[1],10),t.map((function(t){return t.split("").map((function(t){return"."===t?"0":"1"}))})))}}]),e}(wt),Nt=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(t){var i;Object(l.a)(this,e);return(i=n.call(this,t)).monster=["                  # ","#    ##    ##    ###"," #  #  #  #  #  #   "].map((function(t){return t.split("")})),i}return Object(f.a)(e,[{key:"isMonster",value:function(t,n){for(var e=0;e<this.monster.length;e++)for(var i=0;i<this.monster[e].length;i++)if("#"===this.monster[e][i]&&"#"!==this.data[t+e][n+i])return!1;return!0}},{key:"countMonsters",value:function(){for(var t=0,n=0;n<this.data.length-this.monster.length+1;n++)for(var e=0;e<this.data[n].length-this.monster[0].length+1;e++)this.isMonster(n,e)&&t++;return t}},{key:"replaceMonster",value:function(t,n){for(var e=0;e<this.monster.length;e++)for(var i=0;i<this.monster[e].length;i++)"#"===this.monster[e][i]&&(this.data[t+e][n+i]="+")}},{key:"replaceMonsters",value:function(){for(var t=0;t<this.data.length-this.monster.length+1;t++)for(var n=0;n<this.data[t].length-this.monster[0].length+1;n++)this.isMonster(t,n)&&this.replaceMonster(t,n)}},{key:"countRough",value:function(){return this.data.map((function(t){return t.filter((function(t){return"#"===t})).length})).reduce((function(t,n){return t+n}),0)}}],[{key:"fromTiles",value:function(t){var n=[];return t.forEach((function(t){var e=[];t.forEach((function(t){for(var n=t.data.slice(1,t.data.length-1),i=0;i<n.length;i++)void 0===e[i]&&(e[i]=""),e[i]=e[i]+n[i].slice(1,n[i].length-1).map((function(t){return"1"===t?"#":"."})).join("")})),n=n.concat(e)})),new e(n.map((function(t){return t.split("")})))}}]),e}(wt),At=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(t){var i;return Object(l.a)(this,e),(i=n.call(this,t)).canvas=a.a.createRef(),i}return Object(f.a)(e,[{key:"matchRow",value:function(t,n){for(var e=[t],i=n.filter((function(n){return n.match(t.borders[0],0)})),r=function(){var t=i[0];e.unshift(t),n=n.filter((function(n){return n.id!==t.id})),i=n.filter((function(n){return n.match(t.borders[0],0)}))};1===i.length;)r();i=n.filter((function(n){return n.match(t.borders[1],1)}));for(var a=function(){var t=i[0];e.push(t),n=n.filter((function(n){return n.id!==t.id})),i=n.filter((function(n){return n.match(t.borders[1],1)}))};1===i.length;)a();return e}},{key:"matchColumn",value:function(t,n){for(var e=[t],i=n.filter((function(n){return n.match(t.borders[2],2)})),r=function(){var t=i[0];e.unshift(t),n=n.filter((function(n){return n.id!==t.id})),i=n.filter((function(n){return n.match(t.borders[2],2)}))};1===i.length;)r();i=n.filter((function(n){return n.match(t.borders[3],3)}));for(var a=function(){var t=i[0];e.push(t),n=n.filter((function(n){return n.id!==t.id})),i=n.filter((function(n){return n.match(t.borders[3],3)}))};1===i.length;)a();return e}},{key:"drawImage",value:function(t){var n=this.canvas.current.getContext("2d");!function(t,n,e,i,r,a){a&&(t.fillStyle=a),t.fillRect(n,e,i-n,r-e)}(n,0,0,384,384,"#CFCFFF");for(var e=0;e<t.data.length;e++)for(var i=0;i<t.data[e].length;i++)"+"===t.data[e][i]&&St(n,4*i,4*e,2,"#1F9F1F"),"#"===t.data[e][i]&&(It(n,4*i,4*(e+.5),4*(i+.5),4*e,"#7F7FCF",1),It(n,4*(i+1),4*(e+.5),4*(i+.5),4*e,"#7F7FCF",1))}},{key:"findMonsters",value:function(t){for(var n=this,e=Nt.fromTiles(t),i=e.countMonsters(),r=0;r<4;r++)0===i&&(e.clockwise(),i=e.countMonsters());0===i&&(i=e.countMonsters()),0===i&&(e.flipLateral(),i=e.countMonsters()),e.replaceMonsters(),this.setState({map:e,monsters:i,rough:e.countRough()}),setTimeout((function(){return n.drawImage(e)}),1)}},{key:"match",value:function(t,n){var e=this,i=n[0];n=n.filter((function(t){return t.id!==i.id}));var r=this.matchColumn(i,n);t=t.concat(r),r.forEach((function(t){n=n.filter((function(n){return n.id!==t.id}))}));var a=r.map((function(i){var r=e.matchRow(i,n);return r.forEach((function(e){n=n.filter((function(t){return t.id!==e.id})),t.includes(e)||t.push(e)})),r}));this.setState({matched:t,unmatched:n,map:Nt.fromTiles(a),answer:a[0][0].id*a[0][11].id*a[11][0].id*a[11][11].id}),setTimeout((function(){return e.findMonsters(a)}),1)}},{key:"solve",value:function(t){var n=this,e=t.split("\n\n").map((function(t){return Et.fromText(t)})),i=[];this.setState({matched:i,unmatched:e}),setTimeout((function(){return n.match(i,e)}),1)}},{key:"customRender",value:function(){var t=this.state,n=t.matched,e=t.unmatched,r=t.answer,a=t.monsters,s=t.rough;return void 0===n||void 0===e?Object(i.jsx)("div",{children:Object(i.jsx)("canvas",{id:"image",ref:this.canvas,width:384,height:384})}):Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:"Tiles: ".concat(n.length+e.length)}),Object(i.jsx)("p",{children:"Matched tiles: ".concat(n.length)}),Object(i.jsx)("p",{children:"Unmatched tiles: ".concat(e.length)}),Object(i.jsxs)("p",{children:["Answer: ",r]}),Object(i.jsxs)("p",{children:["Monsters: ",a]}),Object(i.jsxs)("p",{children:["Rough: ",s]}),Object(i.jsx)("p",{children:"\xa0"}),Object(i.jsx)("canvas",{id:"image",ref:this.canvas,width:384,height:384})]})}}]),e}(k),Ct=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),Wt=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"allWithAllergen",value:function(t,n){return n.filter((function(n){return n.allergens.includes(t)}))}},{key:"allWithIngredient",value:function(t,n){return n.filter((function(n){return n.ingredients.includes(t)}))}},{key:"possibleAllergens",value:function(t,n,e){var i=this;return e.filter((function(e){var r=i.allWithAllergen(e,n);return r.filter((function(n){return n.ingredients.includes(t)})).length===r.length}))}},{key:"solve",value:function(t){var n=this,e=t.split("\n").map((function(t){var n=t.match(/^(.*) \(contains (.*)\)$/);return n?(t=n[1],n=n[2].split(", ")):n=[],{ingredients:t.split(" "),allergens:n}})),i=Object(xt.a)(new Set(e.flatMap((function(t){return t.allergens})))),r={},a=function(t){void 0===r[t]&&(r[t]={name:t,count:0}),r[t].count++};e.forEach((function(t){return t.ingredients.forEach(a)})),Object.keys(r).forEach((function(t){r[t].possibleAllergens=n.possibleAllergens(t,e,i)}));for(var s=Object.keys(r).map((function(t){return 0===r[t].possibleAllergens.length?r[t].count:0})).reduce((function(t,n){return t+n}),0),c=Object.keys(r).map((function(t){return r[t]})).filter((function(t){return t.possibleAllergens.length>0})),o=[],u=function(){var t=c.filter((function(t){return 1===t.possibleAllergens.length}));o=o.concat(t),c=c.filter((function(n){return!t.includes(n)})),t=t.flatMap((function(t){return t.possibleAllergens})),c.forEach((function(n){n.possibleAllergens=n.possibleAllergens.filter((function(n){return!t.includes(n)}))}))};c.length>0;)u();o.sort((function(t,n){return t.possibleAllergens[0]<n.possibleAllergens[0]?-1:t.possibleAllergens[0]>n.possibleAllergens[0]?1:0}));var h=o.map((function(t){return t.name})).join(",");this.setState({solution:"Foods: ".concat(e.length,"\nAllergens: ").concat(i.length,"\nIngredients: ").concat(Object.keys(r).length,"\nSum: ").concat(s,"\nCanonical: ").concat(h)})}}]),e}(k),Rt=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k);function Xt(t,n){return t.reduce((function(t,n,e){return t*n*(e+2)}),1)+2*n.reduce((function(t,n,e){return t*n*(e+2)}),1)}var Lt=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"score",value:function(t){for(var n=0,e=1;t.length>0;)n+=e++*t.pop();return n}},{key:"combat",value:function(t,n){for(;t.length>0&&n.length>0;)t[0]>n[0]?(t.push(t.shift()),t.push(n.shift())):(n.push(n.shift()),n.push(t.shift()));return this.score(t.concat(n))}},{key:"recurse",value:function(t,n){for(var e=new Map;t.length>0&&n.length>0;){var i=Xt(t,n);if(e.has(i))return{p1win:!0,deck:t};e.set(i);var r=t[0]>n[0];t[0]<t.length&&n[0]<n.length&&(r=this.recurse(t.slice(1,1+t[0]),n.slice(1,1+n[0])).p1win),r?(t=t.slice(1).concat([t[0],n[0]]),n=n.slice(1)):(n=n.slice(1).concat([n[0],t[0]]),t=t.slice(1))}return{p1win:t.length>0,deck:t.length>0?t:n}}},{key:"solve",value:function(t){var n=this,e={name:(t=t.split("\n\n").map((function(t){return t.split("\n")})))[0].shift()},i={name:t[1].shift()};e.cards=t[0].map((function(t){return parseInt(t,10)})),i.cards=t[1].map((function(t){return parseInt(t,10)}));var r=this.combat(e.cards,i.cards);this.setState({solution:"Players: ".concat(t.length,"\n").concat(e.name," ").concat(e.cards.length," cards\n").concat(i.name," ").concat(i.cards.length," cards\nCombat score: ").concat(r,"\nRecursive score: Calculating...")}),setTimeout((function(){e.cards=t[0].map((function(t){return parseInt(t,10)})),i.cards=t[1].map((function(t){return parseInt(t,10)}));var a=n.score(n.recurse(e.cards,i.cards).deck);n.setState({solution:"Players: ".concat(t.length,"\n").concat(e.name," ").concat(e.cards.length," cards\n").concat(i.name," ").concat(i.cards.length," cards\nCombat score: ").concat(r,"\nRecursive score: ").concat(a)})}),100)}}]),e}(k),Yt=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),Zt=function(){function t(n,e){Object(l.a)(this,t),this.cups=[];for(var i=n.split("").map((function(t){return parseInt(t,10)})),r=0;r<i.length;r++)this.cups[i[r]]=i[(r+1)%i.length];if(void 0!==e){this.cups[e]=i[0],this.cups[i[i.length-1]]=i.length+1;for(var a=i.length+1;a<e;a++)this.cups[a]=a+1}this.current=i[0],this.shuffles=0}return Object(f.a)(t,[{key:"shuffle",value:function(){for(var t=this.cups[this.current],n=this.cups[t],e=this.cups[n],i=1===this.current?this.cups.length-1:this.current-1;i===t||i===n||i===e;)i=1===i?this.cups.length-1:i-1;this.cups[this.current]=this.cups[e],this.cups[e]=this.cups[i],this.cups[i]=t,this.current=this.cups[this.current],this.shuffles++}},{key:"key",value:function(){for(var t=this.cups[1],n="",e=1;e<this.cups.length-1;e++)n+=t,t=this.cups[t];return n}}]),t}(),Ft=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"shuffle",value:function(t){var n=this;if(t.shuffles>9999999){var e=t.cups[1];this.setState({result:e*t.cups[e]})}else{for(var i=0;i<1e5;i++)t.shuffle();this.setState({part2:t}),setTimeout((function(){return n.shuffle(t)}),1)}}},{key:"solve",value:function(t){for(var n=this,e=new Zt(t),i=0;i<100;i++)e.shuffle();var r=new Zt(t,1e6);this.setState({part1:e.key(),part2:r}),setTimeout((function(){return n.shuffle(r)}),1)}},{key:"customRender",value:function(){var t=this.state,n=t.part1,e=t.part2,r=t.result;return void 0===n||void 0===e?Object(i.jsx)("div",{}):Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:"Expected: 67384529"}),Object(i.jsxs)("p",{children:["Cup order: ",n]}),Object(i.jsxs)("p",{children:["Shuffles: ",e.shuffles]}),Object(i.jsxs)("p",{children:["Result: ",r||"Calculating..."]})]})}}]),e}(k),Pt=function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k),Tt=function(){function t(n,e,i,r,a,s){Object(l.a)(this,t),this.e=n||0,this.se=a||0,this.sw=s||0,this.w=r||0,this.ne=e||0,this.nw=i||0}return Object(f.a)(t,[{key:"normalize",value:function(){return new t(this.e-this.w+this.se-this.nw,this.ne-this.sw-this.se+this.nw)}},{key:"equal",value:function(t){return this.e===t.e&&this.ne===t.ne}},{key:"toString",value:function(){return"".concat(this.e,"e").concat(this.ne,"ne")}}],[{key:"fromList",value:function(n){var e=new t;return n.forEach((function(t){return e[t]++})),e.normalize()}}]),t}(),zt=function(){function t(){Object(l.a)(this,t),this.e=0,this.w=0,this.ne=0,this.sw=0}return Object(f.a)(t,[{key:"extend",value:function(t,n){this.e<t&&(this.e=t),this.ne<n&&(this.ne=n),this.w>t&&(this.w=t),this.sw>n&&(this.sw=n)}},{key:"grow",value:function(t){this.e+=t,this.ne+=t,this.w-=t,this.sw-=t}}]),t}(),Dt=function(){function t(){Object(l.a)(this,t),this.data=[],this.bounds=new zt}return Object(f.a)(t,[{key:"get",value:function(t,n){return void 0===this.data[t]?0:this.data[t][n]||0}},{key:"set",value:function(t,n,e){void 0===this.data[t]&&(this.data[t]=[]),1===e&&this.bounds.extend(t,n),this.data[t][n]=e}},{key:"flip",value:function(t,n){this.set(t,n,0===this.get(t,n)?1:0)}},{key:"count",value:function(){for(var t=0,n=this.bounds.w;n<=this.bounds.e;n++)for(var e=this.bounds.sw;e<=this.bounds.ne;e++)1===this.get(n,e)&&t++;return t}},{key:"countAdjacent",value:function(t,n){var e=0;return 1===this.get(t-1,n)&&e++,1===this.get(t+1,n)&&e++,1===this.get(t,n-1)&&e++,1===this.get(t,n+1)&&e++,1===this.get(t-1,n+1)&&e++,1===this.get(t+1,n-1)&&e++,e}},{key:"day",value:function(){for(var n=new t,e=this.bounds.w-1;e<=this.bounds.e+1;e++){n[e]=[];for(var i=this.bounds.sw-1;i<=this.bounds.ne+1;i++){var r=this.get(e,i),a=this.countAdjacent(e,i);(2===a||1===r&&1===a)&&n.set(e,i,1)}}return n}}]),t}(),Bt=[{a:x,b:w},{a:S,b:I},{a:M,b:E},{a:A,b:C},{a:W,b:R},{a:X,b:L},{a:Z,b:F},{a:z,b:D},{a:B,b:H},{a:V,b:$},{a:J,b:q},{a:_,b:tt},{a:nt,b:et},{a:st,b:ct},{a:ot,b:ut},{a:lt,b:ft},{a:dt,b:bt},{a:jt,b:mt},{a:yt,b:kt},{a:At,b:Ct},{a:Wt,b:Rt},{a:Lt,b:Yt},{a:Ft,b:Pt},{a:function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){var n=(t=t.split("\n")).map((function(t){return t.match(/(e|w|ne|nw|se|sw)/g)})).map((function(t){return Tt.fromList(t).normalize()})),e=new Dt;n.forEach((function(t){return e.flip(t.e,t.ne)}));for(var i=e.count(),r=0;r<100;r++)e=e.day();this.setState({input:t,coords:n,initial:i,count:e.count()})}},{key:"customRender",value:function(){var t=this.state,n=t.input,e=t.initial,r=t.count;return Object(i.jsxs)("div",{children:[n&&Object(i.jsxs)("p",{children:["Input length: ",n.length]}),Object(i.jsxs)("p",{children:["Initial black tiles: ",e]}),Object(i.jsxs)("p",{children:["Eventual black tiles: ",r]})]})}}]),e}(k),b:function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k)},{a:function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return Object(f.a)(e,[{key:"solve",value:function(t){this.setState({solution:"No solution yet"})}}]),e}(k),b:function(t){Object(p.a)(e,t);var n=Object(v.a)(e);function e(){return Object(l.a)(this,e),n.apply(this,arguments)}return e}(k)}];function Ht(){return Object(i.jsx)(u.a,{basename:"".concat("/aoc20"),children:Object(i.jsxs)(h.c,{children:[Object(i.jsx)(h.a,{exact:!0,path:"/:day",render:function(t){return Object(i.jsx)(y,Object(o.a)({solvers:Bt},t))}}),Object(i.jsx)(h.a,{exact:!0,path:"/",component:b}),Object(i.jsx)(h.a,{path:"/",render:function(t){return Object(i.jsx)("h2",{children:"404 - this puzzle does not exist!"})}})]})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(i.jsx)(Ht,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.e254e2c2.chunk.js.map